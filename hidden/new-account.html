<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Account</title>
    <link rel="stylesheet" href="styles/style.css">
    
</head>
<body>
    <!-- Navbar -->
    <div class="navbar">
        <span>Create New Account</span>
    </div>
  <h1>
      
  </h1>
<div>
     
      </div>
  <h1>
      
  </h1>
<div>
  
  
  </div>
    <!-- Account Creation Form -->
    <div class="login-container">
      
        <input type="text" id="new-username" placeholder="Username" required>
        <input type="password" id="new-password" placeholder="Password" required>
        <button onclick="createAccount()">Create Account</button>
        <p id="error-message" class="error"></p>
    </div>

    <script>
        async function createAccount() {
            const username = document.getElementById("new-username").value;
            const password = document.getElementById("new-password").value;
            const errorMessage = document.getElementById("error-message");

            if (!username || !password) {
                errorMessage.textContent = "Both username and password are required!";
                return;
            }

            try {
                // Assuming you're storing user data in a JSON file
                const response = await fetch('/create-account', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        username: username,
                        password: password,
                        tags: "schueler",
                    })
                });

                const result = await response.json();

                if (result.success) {
                    alert("Account created successfully!");
                    window.location.href = "/dashboard";  // Redirect to admin dashboard
                } else {
                    errorMessage.textContent = "Error creating account!";
                }
            } catch (error) {
                errorMessage.textContent = "Error connecting to server!";
            }
        }
      
    </script>
    <audio autoplay loop>
        <source src="https://cdn.glitch.global/2d4cc1af-adb7-4848-8cda-da9d6fe46ed0/public%2Fbackground.mp3?v=1740683703678" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>
</body>
</html>